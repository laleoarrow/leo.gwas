% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prs_tools.R
\name{lasso_prs}
\alias{lasso_prs}
\alias{lasso_prs_target}
\alias{lasso_prs_rank}
\title{Iterative Lasso PRS (iLasso) utilities}
\usage{
lasso_prs(
  a1_matrix,
  divide_ratio = 0.7,
  iterative = 100,
  nfolds = 10,
  score_type = "link",
  seed = 725
)

lasso_prs_target(a1_matrix, model, lambda, score_type = "link")

lasso_prs_rank(model, rank, auc_history)
}
\arguments{
\item{a1_matrix}{data.frame; PLINK A1 matrix.}

\item{divide_ratio}{numeric; train fraction per iteration (default 0.7).}

\item{iterative}{integer; number of iterations (default 100) - If set to 1, then regular lasso is performed.}

\item{nfolds}{integer; CV folds for glmnet (default 10).}

\item{score_type}{character; "link" (linear score, default) or "response" (probability).}

\item{seed}{integer; base random seed (default 725).}

\item{model}{Trained glmnet model (for target/rank functions).}

\item{lambda}{Best lambda from CV.}

\item{rank}{Feature frequency table.}

\item{auc_history}{Tibble of iteration results.}
}
\value{
Each function returns a list:
\itemize{
\item \code{lasso_prs}: model, lambda, perf_train, perf_test, success_n, attempts, auc_history, feature_rank
\item \code{lasso_prs_target}: pred_df, perf, target_x, target_y
\item \code{lasso_prs_rank}: plots for feature frequency and diagnostics
}
}
\description{
Train, apply and visualize iterative Lasso-based PRS models with success gating.
}
\seealso{
\code{\link[glmnet]{cv.glmnet}}, \code{\link[pROC]{roc}}
}
